/*!
 * Start Bootstrap - Pplcert v0.0.1 (https://pplcert.org)
 * Copyright 2013-2020 Daniel Andradee
 * Licensed under MIT (https://github.com/BlackrockDigital/pplcert-hotsite/blob/master/LICENSE)
 */

var sendmail=function(){$(".btnsendmail").html("..sending");var e=$("#inputName").val(),t=$("#inputEmail").val(),a=$("#inputPhone").val(),n=$("#inputComments").val(),r=$("#inputArea").val(),s=$("input[name='check-receive-mail']"),l=$("input[name='check-allow-pplcert']");if(console.log(s),""!=e&&""!=t&&""!=a){var o={name:e,email:t,phone:a,category:r,message:n,receive_mail:$(s).is(":checked")?"checked":"non",help_research:$(l).is(":checked")?"checked":"non"};$.ajax({url:"https://api.pplcert.org/api/mail/send/contact-mail-site",type:"POST",crossDomain:!0,data:o,dataType:"json",xhrFields:{cors:!1},success:function(e){var t=JSON.parse(e);console.log(t),$(".btnsendmail").html("Sent! Thankyou")},error:function(e,t){$(".btnsendmail").html("Sent! Thankyou")}})}else alert("Please, set your Name, Email and Phone number before!")},searchProducts=function(){var e=$("#searchProductsTxt").val();$(".results").show("slow"),$.ajax({url:"http://localhost:8000/api/airtable/products/search/"+e,type:"GET",beforeSend:function(){$(".result_search_table tbody").append('<tr><td colspan="4" style="text-aligin:center">Searching <i class="fas fa-spinner fa-spin"></i></td></tr>')},success:function(e){$(".result_search_table tbody").html("");var a="";null!==e.data?e.data.forEach(function(e){var t=null!==e.photo?e.photo:"https://www.everywhere.pt/images/no_image.png";a+="<tr>",a+=" <td>"+e.name+"</td>\n",a+=" <td>"+e.type+"</td>\n",a+=" <td>"+e.producer+"</td>\n",a+=' <td><img src="'+t+'" class="img-fluid round" width="80" /></td>\n',a+="</tr>"}):(a+="<tr>",a+=' <td colspan="4" style="text-align:center">Not matched records found :(</td>\n',a+="</tr>",a+="<tr>",a+=' <td colspan="4" style="text-align:center">Maybe see <a href="#">all products</a> here help you!</td>\n',a+="</tr>"),$(".result_search_table tbody").append(a)},error:function(e){console.error(e)}})};$(document).ready(function(){$("#inputPhone").mask("00-0 0000 0000"),$(".carousel").carousel()});